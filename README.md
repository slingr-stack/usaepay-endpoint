---
title: USAePay endpoint
keywords: 
last_updated: April 20, 2017
tags: []
summary: "Detailed description of the API of the USAePay endpoint."
---

## Overview

The USAePay endpoint provides a standardized services interface that allows developers to leverage much of the
gateway functionality within their applications. The API is designed to give developers the tools necessary to
create highly customized payment applications.

Some of the features are:

- Shortcuts for the SOAP API
- Helpers to manage customers and transactions

## Quick start

You can perform a transaction like this:

```js
app.endpoints.usaepay.runTransaction({
  Parameters: {
    AccountHolder: "Test Joe",
    Command: "Sale",
    Details: {
      Invoice: "119891",
      Description: "My Test Sale",
      Amount: 22.34
    },
    CreditCardData: {
      CardNumber: "4444555566667779",
      CardExpiration: "0918",
      CardCode: "999"
    }
  }
});
```

## Configuration

First you will need to setup an account in USAePay. Then you will be able to configure the endpoint,
where you will need to:

- Create source key.
- Define if it is for testing purposes.
- Create a source pin.

See each setting to get more information about how to do that.

### Source key

If you are a developer and your client, the merchant, has not setup a live gateway account a sandbox account will
allow you to develop your application without delay. The sandbox environment mimics the Merchant Console (live account)
exactly so you can expect the same results when switching to the live account once it's setup. Your application will
only need to swap the source key from the developer one to the live one. To request a sandbox account you need to
sign up in [Developer portal](https://sandbox.usaepay.com/_developer). Then you can request a test account.

Once you have the test account you can login the [Backend portal](https://sandbox.usaepay.com/login). From there you
can obtain Source Keys from the [Settings section] (https://sandbox.usaepay.com/console/sources).

### Sandbox
You need to define if the source key is for testing purposes.

### Create a source pin
For security reasons, some operations require a pin. You can set a pin in the [Settings section] (https://sandbox.usaepay.com/console/sources).

## Javascript API

The Javascript API provides direct access to the USAePay Soap API. You should check the [USAePay Soap API docs](https://help.usaepay.info/developer/soap-api/) to
see what's available.

The USAePay endpoint provides support for transactions and customers management.

Every service does not need to specify the parameter called `ueSecurityToken` as it is automatic generated by the endpoint.

### Management of transactions

#### Run transaction

To run a simple sale you can do the following:

```js
var transaction = app.endpoints.usaepay.runTransaction({
  Parameters: {
    AccountHolder: "Test Joe",
    Command: "Sale",
    Details: {
      Invoice: "119891",
      Description: "My Test Sale",
      Amount: 22.34
    },
    CreditCardData: {
      CardNumber: "4444555566667779",
      CardExpiration: "0918",
      CardCode: "999"
    }
  }
});
log('transaction response: '+JSON.stringify(transaction));
```

#### Run customer transaction

It is possible to run a transaction for a specific customer

```js
var transDetails = {
  CustNum: 8815154,
  Parameters: {
    Details: {
        Invoice: "123456",
        Description: "Sample Credit Card Sale",
        Amount: 1.05
      }
  }
};
var customerTransaction = app.endpoints.usaepay.runCustomerTransaction(transDetails);
log("Customer transaction: " + JSON.stringify(customerTransaction));
```

### Management of customers

#### Add a new customer

To create a new customer you can do the following:

```js
var customer = {
    CustomerID: "123123",
    Description: "Weekly Bill",
    Enabled: true,
    Notes: "Testing the soap addCustomer Function",
    ReceiptNote: "addCustomer test Created Charge",
    BillingAddress: {
        FirstName: "John",
        LastName: "Doe",
        Company: "Acme Corp",
        Street: "1234 main st",
        Street2: "Suite #123",
        City: "Los Angeles",
        State: "CA",
        Zip: "12345",
        Country: "US",
        Email: "support@usaepay.com",
        Phone: "333-333-3333",
        Fax: "333-333-3334"
    },
    PaymentMethods: [
            {
                    CardNumber: "4444555566667779",
                    CardExpiration: "0918",
                    CardType: "",
                    AvsStreet: "",
                    AvsZip: "",
                    MethodName: "My Visa",
                    SecondarySort: 1
            }
    ]
};
var customerId = app.endpoints.usaepay.addCustomer({CustomerData: customerJson});
log("Created customer: " + customerId);
```

## About SLINGR

SLINGR is a low-code rapid application development platform that accelerates development, with robust architecture for integrations and executing custom workflows and automation.

[More info about SLINGR](https://slingr.io)

## License

This endpoint is licensed under the Apache License 2.0. See the `LICENSE` file for more details.

